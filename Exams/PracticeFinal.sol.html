<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Stat 24320 - Practice Final Exam</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="../site_libs/quarto-contrib/quarto-project/exam-solutions/solutions.css">
</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#section" id="toc-section" class="nav-link active" data-scroll-target="#section"><span class="header-section-number">1</span> <em></em></a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"><span class="header-section-number">2</span> <em></em></a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2"><span class="header-section-number">3</span> <em></em></a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3"><span class="header-section-number">4</span> <em></em></a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4"><span class="header-section-number">5</span> <em></em></a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5"><span class="header-section-number">6</span> <em></em></a></li>
  <li><a href="#section-6" id="toc-section-6" class="nav-link" data-scroll-target="#section-6"><span class="header-section-number">7</span> <em></em></a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/KBurbank/stat24320/edit/main/Exams/PracticeFinal.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/KBurbank/stat24320/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Practice Final Exam Solutions</h1>
</div>



<div class="quarto-title-meta">

    
  
    
<div>
    <div class="quarto-title-meta-heading">Due Date:</div>
      <div class="quarto-title-meta-contents">
      <p class="due-date">N/A</p>
    </div>
  </div>

<div>
    <div class="quarto-title-meta-heading">Textbook Chapters:</div>
      <div class="quarto-title-meta-contents">
      <p class="due-date">N/A</p>
    </div>
  </div>




</div></header>


<section id="section" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="section"><span class="header-section-number">1</span> <em></em></h2>
<p>A transition matrix A consists of only real entries. It has one real eigenvalue <span class="math inline">\(\lambda_1 = a_1\)</span> and two complex eigenvalues <span class="math inline">\(\lambda_2 = a_2 + b_2 \text{i}, \lambda_3 = a_2 - b_2 \text{i}\)</span>, so that <span class="math inline">\(\lambda_2\)</span> is the complex conjugate of <span class="math inline">\(\lambda_3\)</span>: <span class="math inline">\(\lambda_2=\overline{\lambda_3}\)</span>. It has corresponding eigenvectors <span class="math inline">\(\mathbf{v_1}, \mathbf{v_2}, \mathbf{v_3}\)</span>, where the entries in <span class="math inline">\(\mathbf{v_1}\)</span> are real and the entries in <span class="math inline">\(\mathbf{v_2}\)</span> are the complex conjugates of the entries of <span class="math inline">\(\mathbf{v_3}\)</span>.</p>
<p>(For matrices with all real entries, complex eigenvalues will <em>always</em> come in complex conjugate pairs, and their eigenvectors will always also be complex conguate pairs.)</p>
<ol type="a">
<li>Suppose the initial population is given by <span class="math inline">\(\mathbf{x}=\begin{bmatrix} x_{1} \\ x_2 \\ x_3 \end{bmatrix}\)</span>, where <span class="math inline">\(x_1,x_2,x_3\)</span> are real numbers. The projection of the initial population onto the eigenvectors is given by <span class="math inline">\(\mathbf{x}=c_1 \mathbf{v_1} + c_2 \mathbf{v_2} + c_3 \mathbf{v_3}\)</span>.</li>
</ol>
<p>Using the fact that <span class="math inline">\(v_2\)</span> and <span class="math inline">\(v_3\)</span> are complex conjugates, show that <span class="math inline">\(c_2\)</span> and <span class="math inline">\(c_3\)</span> are also complex conjugates.</p>
<ol start="2" type="a">
<li><p>In terms of the eigenvalues and eigenvectors, what will be the population distribution after <span class="math inline">\(k\)</span> iterations?</p></li>
<li><p>Using your results from the previous two parts, show that the population at time <span class="math inline">\(k\)</span> will always have real entries.</p></li>
</ol>
<p>(You may find it helpful to know that for complex scalars <span class="math inline">\(d,g\)</span>, <span class="math inline">\(\overline{dg}=\overline{d}\times\overline{g}\)</span>, and <span class="math inline">\(\overline{d^n}= \overline{d}^n\)</span>.)</p>
<ol start="4" type="a">
<li><p>Argue that you could have gotten the same result as (c) but just using the fact that the matrix <span class="math inline">\(A\)</span> has only real entries.</p></li>
<li><p>Suppose <span class="math inline">\(|\lambda_1|&gt;|\lambda_2|=|\lambda_3|\)</span>. Estimate <span class="math inline">\(\lim_{k\to\infty} \mathbf{x_k}\)</span> for a random initial population <span class="math inline">\(\mathbf{x_0}\)</span>, for the cases where <span class="math inline">\(\lambda_1&gt;1\)</span>, <span class="math inline">\(\lambda_1=1\)</span>, and <span class="math inline">\(\lambda_1&lt;1\)</span>.</p></li>
</ol>
<div class="solutions">
<ol type="a">
<li>The projection onto <span class="math inline">\(\mathbf{v_2}\)</span> is given by <span class="math inline">\(\mathbf{x} \cdot \mathbf{v_2} = x[1]v_2[1] + x[2]v_2[2] + x[3]v_2[3]\)</span>. Since <span class="math inline">\(v_2\)</span> is a complex conjugate of <span class="math inline">\(v_3\)</span>, we have that <span class="math inline">\(v_2[2] = \overline{v_3[2]}\)</span> and <span class="math inline">\(v_2[3] = \overline{v_3[3]}\)</span>.</li>
</ol>
<p>Then the projection onto <span class="math inline">\(\mathbf{v_2}\)</span> is given by <span class="math inline">\(c_2=x[1]v_2[1] + x[2]v_2[2] + x[3]v_2[3] = x[1]\overline{v_3[1]} + x[2]\overline{v_3[2}] + x[3]\overline{v_3[3]} = \overline{c_3}\)</span>.</p>
<ol start="2" type="a">
<li><p>The population at time <span class="math inline">\(k\)</span> is given by <span class="math inline">\(\mathbf{x_k}=A^k x_0 = c_1 \lambda_1^k \mathbf{v_1} + c_2 \lambda_2^k \mathbf{v_2} + c_3 \lambda_3^k \mathbf{v_3}\)</span>.</p></li>
<li><p>The first entry of <span class="math inline">\(\mathbf{x_k}\)</span> is given by</p></li>
</ol>
<p><span class="math display">\[
\begin{aligned}
x_k[1]&amp;=c_1 \lambda_1^k v_1[1] + c_2 \lambda_2^k v_2[1] + c_3 \lambda_3^k v_3[1] \\
&amp;=c_1 \lambda_1^k v_1[1] + c_2 \lambda_2^k v_2[1] + \overline{c_2} \overline{\lambda_2^k} \overline{v_2[1]} \\
&amp;=c_1 \lambda_1^k v_1[1] + c_2 \lambda_2^k v_2[1] + \overline{c_2\lambda_2^k v_2[1]} \\
\end{aligned}
\]</span></p>
<p>A number plus its complex conjugate is always real. Therefore, <span class="math inline">\(x_k[1]\)</span> is real. The same logic holds for <span class="math inline">\(x_k[2]\)</span> and <span class="math inline">\(x_k[3]\)</span>, so the population at time <span class="math inline">\(k\)</span> will always have real entries.</p>
<ol start="4" type="a">
<li><p>Since the matrix <span class="math inline">\(A\)</span> has only real entries, all of its powers will also have only real entries. Therefore, the population at time <span class="math inline">\(k\)</span> will always have real entries.</p></li>
<li><p>If <span class="math inline">\(|\lambda_1|&gt;|\lambda_2|=|\lambda_3|\)</span>, then the population at time <span class="math inline">\(k\)</span> will be dominated by the term <span class="math inline">\(c_1 \lambda_1^k \mathbf{v_1}\)</span>. If <span class="math inline">\(\lambda_1&gt;1\)</span>, then the population will grow exponentially. If <span class="math inline">\(\lambda_1=1\)</span>, then the population will stay constant and will approach <span class="math inline">\(c_1 \mathbf{v_1}\)</span>. If <span class="math inline">\(\lambda_1&lt;1\)</span>, then the population will decay exponentially.</p></li>
</ol>
</div>
</section>
<section id="section-1" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="section-1"><span class="header-section-number">2</span> <em></em></h2>
<p>Convert this difference equation into matrix–vector form. Then, using the matrix, from a starting point of <span class="math inline">\(y_[0]=y_[1]=2\)</span>, compute <span class="math inline">\(y_2\)</span> and <span class="math inline">\(y_3\)</span>.</p>
<p><span class="math inline">\(y_{k+2} + y_{k+1} - 2y_{k} = 3\)</span></p>
<div class="solutions">
<p>We solve the equation above for <span class="math inline">\(y_{k+2}\)</span> to get <span class="math inline">\(y_{k+2} = 2y_{k} - y_{k+1} + 3\)</span>.</p>
<p>Make a vector of the unknowns: <span class="math inline">\(x_k = [y_{k}, y_{k+1},1]^T\)</span>. Then we have that <span class="math inline">\(x_{k+1}=[y_{k+1},y_{k+2},1]^T\)</span>.</p>
<p>We can now write three equations in terms of the vector <span class="math inline">\(x_k\)</span> and <span class="math inline">\(x_{k+1}\)</span>:</p>
<p><span class="math display">\[
\begin{aligned}
x_{k+1}[1] &amp;= x_{k}[2] \\
x_{k+1}[2] &amp;= 2x_{k}[1] - x_{k}[2] + 3x_{k}[3] \\
x_{k+1}[3] &amp;= x_{k}[3]
\end{aligned}
\]</span></p>
<p>Then the equation can be written as in the form <span class="math inline">\(Ax_{k} = x_{k+1}\)</span> where <span class="math inline">\(A\)</span> is a matrix given by</p>
<p><span class="math display">\[
A = \begin{bmatrix}
0 &amp; 1 &amp; 0 \\
2 &amp; -1 &amp; 3 \\
0 &amp; 0 &amp; 1
\end{bmatrix}
\]</span></p>
<p>Check using sympy:</p>
<div id="1b46bf69" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="40">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}0\\2 x_{k0} - x_{k1} - x_{k2} + 3\\0\end{matrix}\right]\)</span></p>
</div>
</div>
<p>It works!</p>
<p>Now set up the initial conditions:</p>
<div id="48b5695c" class="cell" data-execution_count="3">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="41">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}2\\5\\1\end{matrix}\right]\)</span></p>
</div>
</div>
<p>Check this result: this tells us that <span class="math inline">\(y_2 = 5\)</span> and that <span class="math inline">\(y_1=2\)</span>. We still have <span class="math inline">\(y_0=2\)</span>. Plugging this into the original equation,</p>
<p><span class="math inline">\(y_{k+2} + y_{k+1} - 2y_{k} = 5+2-2(2)=3\)</span>. It worked!</p>
</div>
</section>
<section id="section-2" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="section-2"><span class="header-section-number">3</span> <em></em></h2>
<p>A directed graph has vertices labeled <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span>, <span class="math inline">\(C\)</span>, and <span class="math inline">\(D\)</span>. The edges are given by the following incidence matrix B:</p>
<div id="cd9ca35c" class="cell" data-execution_count="4">
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle B = \left[\begin{matrix}-1 &amp; -1 &amp; 0 &amp; 0 &amp; 0 &amp; 1\\1 &amp; 0 &amp; -1 &amp; -1 &amp; 0 &amp; 0\\0 &amp; 1 &amp; 1 &amp; 0 &amp; -1 &amp; 0\\0 &amp; 0 &amp; 0 &amp; 1 &amp; 1 &amp; -1\end{matrix}\right]\)</span></p>
</div>
</div>
<ol type="a">
<li><p>Find the adjacency matrix <span class="math inline">\(A\)</span> for the graph.</p></li>
<li><p>Draw the graph.</p></li>
<li><p>Describe how you could find the number of paths of length <span class="math inline">\(k\)</span> between each pair of vertices using the adjacency matrix <span class="math inline">\(A\)</span>.</p></li>
<li><p>If you calculate the matrix <span class="math inline">\(A\)</span> + <span class="math inline">\(A^2\)</span>, what does the sum of the entries in the corresponding row tell you about the graph?</p></li>
<li><p>Let <span class="math inline">\(\mathbf{v}\)</span> be a row vector representing a subset of the edges in the graph. For example, the subset of edges given by the vector <span class="math inline">\(\mathbf{v} = [1, 0, 1, 0, 0, 1]\)</span> would correspond to the first, third, and sixth edges.</p></li>
</ol>
<p>Write an equation which will be satisfied whenever the subset of edges represented by <span class="math inline">\(\mathbf{v}\)</span> forms a loop in the graph.</p>
<ol start="6" type="a">
<li>Describe two algorithms for ranking the importance of the vertices in a graph. (One or more of these algorithms may be based on prior parts of this problem.)</li>
</ol>
<div class="solutions">
<div id="f468f579" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="43">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}0 &amp; 1 &amp; 1 &amp; 0\\0 &amp; 0 &amp; 1 &amp; 1\\0 &amp; 0 &amp; 0 &amp; 1\\1 &amp; 0 &amp; 0 &amp; 0\end{matrix}\right]\)</span></p>
</div>
</div>
<div id="4c3c40f8" class="cell" data-execution_count="6">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="PracticeFinal_files/figure-html/cell-6-output-1.png" width="540" height="389" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ol start="3" type="a">
<li><p>The number of paths of length <span class="math inline">\(k\)</span> between each pair of vertices is given by the entries in the matrix <span class="math inline">\(B^k\)</span>.</p></li>
<li><p>The sum of the entries in the corresponding row of the matrix <span class="math inline">\(A + A^2\)</span> gives the power of each vertex. In other words, it gives the number of paths of length 1 or 2 originating at each vertex.</p></li>
<li><p>A loop in the graph is a subset of edges that form a closed path. A closed path is a path that starts and ends at the same vertex. Therefore, a subset of edges forms a loop if the multiple of the incidence matrix <span class="math inline">\(B\)</span> and the vector <span class="math inline">\(\mathbf{v}\)</span> is equal to zero. In other words, the subset of edges represented by <span class="math inline">\(\mathbf{v}\)</span> forms a loop if <span class="math inline">\(\mathbf{v}B^T = 0\)</span>, or equivalently if <span class="math inline">\(B \mathbf{v^T}=0\)</span>. These definitions work if B has one column for each edge; if B has one row for each edge, then the equation is <span class="math inline">\(B^T \mathbf{v^T}=0\)</span>.</p></li>
<li><p>Two algorithms for ranking the importance of the vertices in a graph are the PageRank algorithm the power method.</p></li>
</ol>
</div>
</section>
<section id="section-3" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="section-3"><span class="header-section-number">4</span> <em></em></h2>
<p>The system of equations</p>
<p><span class="math display">\[
\begin{aligned}
x_{1}+x_{2} &amp; =2 \\
x_{3}+x_{4} &amp; =1 \\
2 x_{1}+4 x_{2}+2 x_{4} &amp; =6
\end{aligned}
\]</span></p>
<p>has coefficient matrix <span class="math inline">\(A\)</span> and right hand side <span class="math inline">\(\mathbf{b}\)</span> such that the row-reduced echelon form of <span class="math inline">\([A \mid \mathbf{b}]\)</span> is</p>
<p><span class="math display">\[
\left[\begin{array}{ccccc:c}1 &amp; 0 &amp; 0 &amp; -1 &amp; \mid &amp; 1 \\ 0 &amp; 1 &amp; 0 &amp; 1 &amp; | &amp; 1 \\ 0 &amp; 0 &amp; 1 &amp; 1 &amp; | &amp; 1\end{array}\right]
\]</span></p>
<p>Use this information to answer the following:</p>
<ol type="a">
<li><p>Find a basis for the null space of <span class="math inline">\(A\)</span>.</p></li>
<li><p>Find the form of a general solution of the system <span class="math inline">\(A \mathbf{x}=\mathbf{b}\)</span>.</p></li>
<li><p>Find the rank of <span class="math inline">\(A\)</span>.</p></li>
<li><p>No matter what the right hand side of <span class="math inline">\(\mathbf{b}\)</span> is, this system has solutions. In terms of rank, why do we know this?</p></li>
</ol>
<div class="solutions">
<ol type="a">
<li>To find a basis for the null space of <span class="math inline">\(A\)</span>, we solve the equation <span class="math inline">\(A\mathbf{x} = \mathbf{0}\)</span>.</li>
</ol>
<p>We know that <span class="math inline">\(x_4\)</span> is a free variable, so we can write the solution in terms of <span class="math inline">\(x_4\)</span>:</p>
<p><span class="math display">\[
\begin{aligned}
x_1 &amp;= x_4 \\
x_2 &amp;= - x_4 \\
x_3 &amp;= - x_4 \\
x_4 &amp;= x_4
\end{aligned}
\]</span></p>
<p>So the basis for the nullspace of <span class="math inline">\(A\)</span> is simply the vector <span class="math inline">\(\begin{bmatrix} 1 \\ -1 \\ -1 \\ 1 \end{bmatrix}\)</span>.</p>
<p>Checking using sympy:</p>
<ol start="2" type="a">
<li>The general solution will be a particular solution plus a linear combination of the basis for the nullspace of <span class="math inline">\(A\)</span>.</li>
</ol>
<p>To find a particular solution, we can set <span class="math inline">\(x_4 = 0\)</span> and solve the system. Then we have that <span class="math inline">\(x_1 = x_2 = x_3 = 1\)</span>. Therefore, a particular solution is <span class="math inline">\(\begin{bmatrix} 1 \\ 1 \\ 1 \\ 0 \end{bmatrix}\)</span>.</p>
<p>The general solution is then given by <span class="math inline">\(\begin{bmatrix} 1 \\ 1 \\ 1 \\ 0 \end{bmatrix} + x_4 \begin{bmatrix} 1 \\ -1 \\ -1 \\ 1 \end{bmatrix}\)</span>.</p>
<ol start="3" type="a">
<li><p>The rank of <span class="math inline">\(A\)</span> is the number of pivot columns in the row-reduced echelon form of <span class="math inline">\(A\)</span>. In this case, the rank of <span class="math inline">\(A\)</span> is 3.</p></li>
<li><p>The rank of <span class="math inline">\(A\)</span> is less than the number of columns in <span class="math inline">\(A\)</span>. Therefore, the system will always have solutions.</p></li>
</ol>
</div>
</section>
<section id="section-4" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="section-4"><span class="header-section-number">5</span> <em></em></h2>
<p>You are given a matrix <span class="math inline">\(A\)</span>:</p>
<div id="c09e7918" class="cell" data-execution_count="8">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="46">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}0 &amp; 1\\1 &amp; 0\\1 &amp; 1\end{matrix}\right]\)</span></p>
</div>
</div>
<p>The eigenvalues of <span class="math inline">\(AA^T\)</span> are <span class="math inline">\(\lambda_1 = 3, \lambda_2 = 1, \lambda_3 = 0\)</span>.</p>
<ol type="a">
<li><p>Find the eigenvalues of <span class="math inline">\(AA^T\)</span>.</p></li>
<li><p>Find the eigenvectors of <span class="math inline">\(A^TA\)</span> and <span class="math inline">\(AA^T\)</span>. Use the facts below and explain your reasoning.</p></li>
<li><p>Find the singular value decomposition of <span class="math inline">\(A\)</span>.</p></li>
<li><p>Using the SVD, calculate <span class="math inline">\(A^+\)</span>, the pseudoinverse of <span class="math inline">\(A\)</span>. Use this to solve the least squares problem <span class="math inline">\(A\mathbf{x} = \mathbf{b}\)</span>, where <span class="math inline">\(\mathbf{b} = [1, 4,2]^T\)</span>.</p></li>
<li><p>Using the SVD, calculate <span class="math inline">\(A^k \mathbf{x}\)</span> for <span class="math inline">\(k=3\)</span> and <span class="math inline">\(\mathbf{x} = [-2, 2, 0]^T\)</span>.</p></li>
</ol>
<p>Here are some facts which may be helpful:</p>
<div id="b4cb9bbb" class="cell" data-execution_count="9">
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}1 &amp; 0 &amp; 1\\0 &amp; 1 &amp; 1\\1 &amp; 1 &amp; 2\end{matrix}\right]\left[\begin{matrix}-1\\-1\\1\end{matrix}\right]=\left[\begin{matrix}0\\0\\0\end{matrix}\right]\)</span></p>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}-2 &amp; 0 &amp; 1\\0 &amp; -2 &amp; 1\\1 &amp; 1 &amp; -1\end{matrix}\right]\left[\begin{matrix}\frac{1}{2}\\\frac{1}{2}\\1\end{matrix}\right]=\left[\begin{matrix}0\\0\\0\end{matrix}\right]\)</span></p>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle  \left[\begin{matrix}0 &amp; 0 &amp; 1\\0 &amp; 0 &amp; 1\\1 &amp; 1 &amp; 1\end{matrix}\right]\left[\begin{matrix}-1\\1\\0\end{matrix}\right]=\left[\begin{matrix}0\\0\\0\end{matrix}\right]\)</span></p>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}1 &amp; 1\\1 &amp; 1\end{matrix}\right]\left[\begin{matrix}-1\\1\end{matrix}\right]=\left[\begin{matrix}0\\0\end{matrix}\right]\)</span></p>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}-1 &amp; 1\\1 &amp; -1\end{matrix}\right]\left[\begin{matrix}1\\1\end{matrix}\right]=\left[\begin{matrix}0\\0\end{matrix}\right]\)</span></p>
</div>
</div>
<div class="solutions">
<ol type="a">
<li>We first find the characteristic polynomial of <span class="math inline">\(AA^T\)</span>: we find <span class="math inline">\(\text{det}(AA^T - \lambda I)\)</span> and set it equal to zero.</li>
</ol>
<div id="034c2700" class="cell" data-execution_count="10">
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \lambda^{2} - 4 \lambda + 3=0\)</span></p>
</div>
</div>
<p>We try the three eigenvalues given in the question: 0, 1, and 3. We find that 0 is not an eigenvalue, but that 1 and 3 satisfy the equation. Therefore, the eigenvalues of <span class="math inline">\(AA^T\)</span> are <span class="math inline">\(\lambda_1 = 3, \lambda_2 = 1\)</span>.</p>
<ol start="2" type="a">
<li>The eigenvectors of <span class="math inline">\(AA^T\)</span> are given by the nullspace of <span class="math inline">\(AA^T - \lambda I\)</span>. We can find the eigenvectors by solving the equation <span class="math inline">\((AA^T - \lambda I)v = 0\)</span>. These are what are given to us in the question, so the eigenvectors are</li>
</ol>
<div id="b025d8d6" class="cell" data-execution_count="11">
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}-1\\-1\\1\end{matrix}\right]\)</span></p>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}-1\\1\\0\end{matrix}\right]\)</span></p>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}\frac{1}{2}\\\frac{1}{2}\\1\end{matrix}\right]\)</span></p>
</div>
</div>
<p>The eigenvectors of <span class="math inline">\(A^TA\)</span> are given by the nullspace of <span class="math inline">\(A^TA - \lambda I\)</span>. We can find the eigenvectors by solving the equation <span class="math inline">\((A^TA - \lambda I)u = 0\)</span>. These are what are given to us in the question, so the eigenvectors are</p>
<div id="78f23236" class="cell" data-execution_count="12">
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}-1\\1\end{matrix}\right]\)</span></p>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}1\\1\end{matrix}\right]\)</span></p>
</div>
</div>
<ol start="3" type="a">
<li><p>The singular value decomposition of <span class="math inline">\(A\)</span> is given by <span class="math inline">\(A = U\Sigma V^T\)</span>, where <span class="math inline">\(U\)</span> is the matrix of eigenvectors of <span class="math inline">\(A^TA\)</span>, <span class="math inline">\(V\)</span> is the matrix of eigenvectors of <span class="math inline">\(AA^T\)</span>, and <span class="math inline">\(\Sigma\)</span> is the diagonal matrix of the square roots of the eigenvalues of <span class="math inline">\(A^TA\)</span>.</p></li>
<li><p>The pseudoinverse of <span class="math inline">\(A\)</span> is given by <span class="math inline">\(A^+ = V\Sigma^+ U^T\)</span>, where <span class="math inline">\(\Sigma^+\)</span> is the diagonal matrix of the reciprocals of the non-zero elements of <span class="math inline">\(\Sigma\)</span>. We can use this to solve the least squares problem <span class="math inline">\(A\mathbf{x} = \mathbf{b}\)</span>.</p></li>
</ol>
</div>
</section>
<section id="section-5" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="section-5"><span class="header-section-number">6</span> <em></em></h2>
<ol type="a">
<li><p>For the matrix <span class="math inline">\(A = \begin{bmatrix} 9 &amp; 8 \\ -6 &amp; -5 \end{bmatrix}\)</span>, find the eigenvalues and eigenvectors.</p></li>
<li><p>Using these results, find the matrix <span class="math inline">\(P\)</span> such that <span class="math inline">\(P^{-1}AP\)</span> is a diagonal matrix.</p></li>
</ol>
<p>(Note: for a 2x2 matrix <span class="math inline">\(\begin{bmatrix}a&amp;b\\c&amp;d\end{bmatrix}\)</span>, you can calculate the inverse as <span class="math inline">\(\frac{1}{ad-bc}\begin{bmatrix} d &amp; -b \\ -c &amp; a \end{bmatrix}\)</span>.)</p>
<ol start="3" type="a">
<li><p>Diagonalize the matrix <span class="math inline">\(A^4+2A^2-3I\)</span>. (It’s fine to leave exponents in the answer, e.g.&nbsp;<span class="math inline">\(5^{6}\)</span>.)</p></li>
<li><p>Find the nullspace of the matrix <span class="math inline">\(A^4+2A^2-3I\)</span>.</p></li>
</ol>
<div class="solutions">
<div id="bce72542" class="cell" data-execution_count="13">
<div class="cell-output cell-output-stdout">
<pre><code>P = 
D = </code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}-1 &amp; -4\\1 &amp; 3\end{matrix}\right]\)</span></p>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><span class="math inline">\(\displaystyle \left[\begin{matrix}1 &amp; 0\\0 &amp; 3\end{matrix}\right]\)</span></p>
</div>
</div>
<p>We can diagonalize <span class="math inline">\(A^4+2A^2-3I\)</span> by noting that we find <span class="math inline">\(A^4\)</span> by taking the 4th power of the diagonal terms in <span class="math inline">\(D\)</span>, and similarly for <span class="math inline">\(A^2\)</span>.</p>
<p>We also need to write <span class="math inline">\(I\)</span> in terms of <span class="math inline">\(P\)</span> and <span class="math inline">\(D\)</span>. Note that <span class="math inline">\(P I P^{-1} = I\)</span>. So we can write the entire sum as <span class="math inline">\(P \left( D^4 + 2D^2 - 3I \right) P^{-1}\)</span>.</p>
<p>Checking in sympy:</p>
<div id="5ee326d0" class="cell" data-execution_count="14">
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>True</code></pre>
</div>
</div>
</div>
</section>
<section id="section-6" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="section-6"><span class="header-section-number">7</span> <em></em></h2>
<p>The Discrete Fourier Transform (DFT) of a sequence <span class="math inline">\(x[n]\)</span> is given by <span class="math inline">\(X[k] = \sum_{n=0}^{N-1} x[n] e^{-i2\pi kn/N}\)</span>, where <span class="math inline">\(N\)</span> is the length of the sequence, and where <span class="math inline">\(k\)</span> runs from <span class="math inline">\(0\)</span> to <span class="math inline">\(N-1\)</span>. The inverse DFT is given by <span class="math inline">\(x[n] = \frac{1}{N} \sum_{k=0}^{N-1} X[k] e^{i2\pi kn/N}\)</span>.</p>
<ol type="a">
<li><p>Find the DFT of the filter <span class="math inline">\(h[n] = [\frac{1}{3},-\frac{1}{3},\frac{1}{3},0]\)</span>.</p></li>
<li><p>Using this DFT, find the circular convolution of the sequences <span class="math inline">\(x[n] = [1,2,3,4]\)</span> and <span class="math inline">\(h[n]\)</span>. Note: the DFT of <span class="math inline">\(x\)</span> is <span class="math inline">\(X=[10,-2+2i,-2,-2-2i]\)</span>.</p></li>
</ol>
<p>(Circular convolution is convolution where we assume the sequences are periodic, so that <span class="math inline">\(x[n] = x[n+N]\)</span>. It’s as if we had the long sequence <span class="math inline">\(x[n] = [\color{blue}1,2,3,4,\color{black}1,2,3,4,\color{blue}1,2,3,4,\ldots]\)</span> to use when calculating the convolution. When we discussed convolution using the DFT in class, we were actually doing circular convolution. This matters if you want to check your results doing the convolution by hand without using the DFT.)</p>
<ol start="3" type="a">
<li>From the plots below, match the signals to the correct DFTs. (Curve y3 is actually a quadratic. I have plotted only the absolute value of the DFTs. The complete DFT also includes negative frequencies, not shown here, which are the complex conjugates of the positive frequencies.)</li>
</ol>
<div id="b5bfbbda" class="cell" data-execution_count="15">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="PracticeFinal_files/figure-html/cell-15-output-1.png" width="587" height="248" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="PracticeFinal_files/figure-html/cell-15-output-2.png" width="601" height="248" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div class="solutions">
<ol type="a">
<li><p>The DFT of the filter <span class="math inline">\(h[n] = [\frac{1}{3},-\frac{1}{3},\frac{1}{3},0]\)</span> is given by <span class="math inline">\(H[k] = \sum_{n=0}^{3} h[n] e^{-i2\pi kn/4}\)</span> This equals <span class="math inline">\(H=[1/3, i/3, 1, -i/3]\)</span>.</p></li>
<li><p>The circular convolution of the sequences <span class="math inline">\(x[n] = [1,2,3,4]\)</span> and <span class="math inline">\(h[n]\)</span> is given by the inverse Fourier transform of the element-wise product <span class="math inline">\(X[k]H[k]\)</span>. This equals</p></li>
</ol>
<p><span class="math inline">\([10,-2+2i,-2,-2-2i]\times[1/3, i/3, 1, -i/3]=[10/3, -2/3-2/3i, -2, -2/3+2/3i]\)</span>.</p>
<p>The inverse transform is <span class="math inline">\([0,5,2,3]/3\)</span>.</p>
<ol start="3" type="a">
<li>The DFT of signal <span class="math inline">\(y\)</span> is <span class="math inline">\(b\)</span>, the DFT of signal <span class="math inline">\(y2\)</span> is <span class="math inline">\(c\)</span>, and the DFT of signal <span class="math inline">\(y3\)</span> is <span class="math inline">\(a\)</span>. We can tell because <span class="math inline">\(y2\)</span> is a simple sin curve, so its DFT is a single peak. <span class="math inline">\(y\)</span> appears to be a sum of two sin curves, so its DFT has two peaks. <span class="math inline">\(y3\)</span> has many frequency components, but they are low frequency, so the DFT has a peak near 0.</li>
</ol>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/KBurbank/stat24320/edit/main/Exams/PracticeFinal.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/KBurbank/stat24320/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>