<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Stat 24320 - Ch2 Lecture 5</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="ch2_lecture5.html"><i class="bi bi-file-slides"></i>RevealJS (course-presentation)</a></li><li><a href="ch2_lecture5.out.ipynb" download="ch2_lecture5.out.ipynb"><i class="bi bi-journal-code"></i>Jupyter</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Ch2 Lecture 5</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="odds-and-ends" class="level1">
<h1><em>Odds and ends</em></h1>
</section>
<section id="block-multiplication" class="level1">
<h1><em>Block multiplication</em></h1>
<section id="block-multiplication-1" class="level2">
<h2 class="anchored" data-anchor-id="block-multiplication-1"><em>Block Multiplication</em></h2>
<!--

### Block Matrices

Another type of matrix that occurs frequently enough to be discussed is a block matrix. Actually, we already used the idea of blocks when we described the augmented matrix of the system $A \mathbf{x}=\mathbf{b}$ as the matrix $\tilde{A}=[A \mid \mathbf{b}]$. The blocks of $\tilde{A}$ in partitioned form $[A, \mathbf{b}]$ are $A$ and $\mathbf{b}$. There is no reason we couldn't partition by inserting more vertical lines or horizontal lines as well, and this partitioning leads to the blocks. The main point to bear in mind when using the block notation is that the blocks must be correctly Block Notation sized so that the resulting matrix makes sense. One virtue of the block form that results from partitioning is that for purposes of matrix addition or multiplication, we can treat the blocks rather like scalars, provided the addition or multiplication that results makes sense. We will use this idea from time to time without fanfare. One could go through a formal description of partitioning and proofs; we won't. Rather, we'll show how this idea can be used by example.



For another (important!) example of block arithmetic, examine Example 2.9 and the discussion following it. There we view a matrix as blocked into its respective columns, and a column vector as blocked into its rows, to obtain

$$
A \mathbf{x}=\left[\mathbf{a}_{1}, \mathbf{a}_{2}, \mathbf{a}_{3}\right]\left[\begin{array}{c}
x_{1} \\
x_{2} \\
x_{3}
\end{array}\right]=\mathbf{a}_{1} x_{1}+\mathbf{a}_{2} x_{2}+\mathbf{a}_{3} x_{3}
$$

-->
<p>Suppose we need to multiply these matricesâ€¦</p>
<p><span class="math display">\[
\left[\begin{array}{llll}
1 &amp; 2 &amp; 0 &amp; 0 \\
3 &amp; 4 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 1 &amp; 0
\end{array}\right]\left[\begin{array}{llll}
0 &amp; 0 &amp; 2 &amp; 1 \\
0 &amp; 0 &amp; 1 &amp; 1 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{array}\right] .
\]</span></p>
<p><strong>pause</strong></p>
</section>
<section id="column-vectors-as-blocks" class="level2">
<h2 class="anchored" data-anchor-id="column-vectors-as-blocks"><em>Column Vectors as Blocks</em></h2>
<p><span class="math display">\[
A \mathbf{x}=\left[\mathbf{a}_{1}, \mathbf{a}_{2}, \mathbf{a}_{3}\right]\left[\begin{array}{c}
x_{1} \\
x_{2} \\
x_{3}
\end{array}\right]=\mathbf{a}_{1} x_{1}+\mathbf{a}_{2} x_{2}+\mathbf{a}_{3} x_{3}
\]</span></p>
</section>
</section>
<section id="transpose-and-conjugate-transpose" class="level1">
<h1><em>Transpose and Conjugate Transpose</em></h1>
<section id="transpose-and-conjugate-transpose-1" class="level2">
<h2 class="anchored" data-anchor-id="transpose-and-conjugate-transpose-1"><em>Transpose and Conjugate Transpose</em></h2>
<!--

Sometimes we prefer to work with a different form of a matrix that contains the same information as the matrix. Transposes are operations that allow us to do that. The idea is simple: Interchange rows and columns. It turns out that for complex matrices, there is an analogue that is not quite the same thing as transposing, though it yields the same result when applied to real matrices. This analogue is called the conjugate (or Hermitian) transpose. Here are the appropriate definitions.

#### Definition 2.15.
 Transpose and Conjugate Matrices Let $A=\left[a_{i j}\right]$ be an $m \times n$ matrix with (possibly) complex entries. Then the transpose of $A$ is the $n \times m$ matrix $A^{T}$ obtained by interchanging the rows and columns of $A$, so that the $(i, j)$ th entry of $A^{T}$ is $a_{j i}$. The conjugate of $A$ is the matrix $\bar{A}=\left[\overline{a_{i j}}\right]$. Finally, the conjugate (Hermitian) transpose of $A$ is the matrix $A^{*}=\bar{A}^{T}$.

Notice that in the case of a real matrix (that is, a matrix with real entries) $A$ there is no difference between transpose and conjugate transpose, since in this case $A=\bar{A}$. Consider these examples.

Example 2.33. Compute the transpose and conjugate transpose of the following matrices:
(a) $\left[\begin{array}{lll}1 & 0 & 2 \\ 0 & 1 & 1\end{array}\right]$,
(b) $\left[\begin{array}{ll}2 & 1 \\ 0 & 3\end{array}\right]$,
(c) $\left[\begin{array}{rr}1 & 1+\mathrm{i} \\ 0 & 2 \mathrm{i}\end{array}\right]$.

Solution. For matrix (a) we have

$$
\left[\begin{array}{lll}
1 & 0 & 2 \\
0 & 1 & 1
\end{array}\right]^{*}=\left[\begin{array}{lll}
1 & 0 & 2 \\
0 & 1 & 1
\end{array}\right]^{T}=\left[\begin{array}{ll}
1 & 0 \\
0 & 1 \\
2 & 1
\end{array}\right]
$$

Notice how the dimensions of a transpose get switched from the original.

For matrix (b) we have

$$
\left[\begin{array}{ll}
2 & 1 \\
0 & 3
\end{array}\right]^{*}=\left[\begin{array}{ll}
2 & 1 \\
0 & 3
\end{array}\right]^{T}=\left[\begin{array}{ll}
2 & 0 \\
1 & 3
\end{array}\right]
$$

and for matrix (c) we have

$$
\left[\begin{array}{rr}
1 & 1+\mathrm{i} \\
0 & 2 \mathrm{i}
\end{array}\right]^{*}=\left[\begin{array}{rr}
1 & 0 \\
1-\mathrm{i} & -2 \mathrm{i}
\end{array}\right], \quad\left[\begin{array}{rr}
1 & 1+\mathrm{i} \\
0 & 2 \mathrm{i}
\end{array}\right]^{T}=\left[\begin{array}{rr}
1 & 0 \\
1+\mathrm{i} & 2 \mathrm{i}
\end{array}\right]
$$

In this case, transpose and conjugate transpose are not the same.

Even when dealing with vectors alone, the transpose notation is handy. For example, there is a bit of terminology that comes from tensor analysis (a branch of higher linear algebra used in many fields including differential geometry, engineering mechanics, and relativity) that can be expressed very concisely with transposes:
-->
<div class="definition">
<ul>
<li><p>Let <span class="math inline">\(A=\left[a_{i j}\right]\)</span> be an <span class="math inline">\(m \times n\)</span> matrix with (possibly) complex entries.</p></li>
<li><p>The <strong>transpose</strong> of <span class="math inline">\(A\)</span> is the <span class="math inline">\(n \times m\)</span> matrix <span class="math inline">\(A^{T}\)</span> obtained by interchanging the rows and columns of <span class="math inline">\(A\)</span></p></li>
<li><p>The <strong>conjugate</strong> of <span class="math inline">\(A\)</span> is the matrix <span class="math inline">\(\bar{A}=\left[\overline{a_{i j}}\right]\)</span></p></li>
<li><p>Finally, the <strong>conjugate (Hermitian) transpose</strong> of <span class="math inline">\(A\)</span> is the matrix <span class="math inline">\(A^{*}=\bar{A}^{T}\)</span>.</p></li>
</ul>
</div>
</section>
<section id="example-1" class="level2">
<h2 class="anchored" data-anchor-id="example-1"><em>Example 1</em></h2>
<p>Find the transpose and conjugate transpose of:</p>
<p><span class="math display">\[
\left[\begin{array}{lll}1 &amp; 0 &amp; 2 \\ 0 &amp; 1 &amp; 1\end{array}\right]
\]</span></p>
<p>. . .</p>
<p><span class="math display">\[
\left[\begin{array}{lll}
1 &amp; 0 &amp; 2 \\
0 &amp; 1 &amp; 1
\end{array}\right]^{*}=\left[\begin{array}{lll}
1 &amp; 0 &amp; 2 \\
0 &amp; 1 &amp; 1
\end{array}\right]^{T}=\left[\begin{array}{ll}
1 &amp; 0 \\
0 &amp; 1 \\
2 &amp; 1
\end{array}\right]
\]</span></p>
</section>
<section id="example-2" class="level2">
<h2 class="anchored" data-anchor-id="example-2"><em>Example 2</em></h2>
<p>Find the transpose and conjugate transpose of:</p>
<p><span class="math display">\[
\left[\begin{array}{rr}1 &amp; 1+\mathrm{i} \\ 0 &amp; 2 \mathrm{i}\end{array}\right]
\]</span></p>
<p>. . .</p>
<p><span class="math display">\[
\left[\begin{array}{rr}
1 &amp; 1+\mathrm{i} \\
0 &amp; 2 \mathrm{i}
\end{array}\right]^{*}=\left[\begin{array}{rr}
1 &amp; 0 \\
1-\mathrm{i} &amp; -2 \mathrm{i}
\end{array}\right], \quad\left[\begin{array}{rr}
1 &amp; 1+\mathrm{i} \\
0 &amp; 2 \mathrm{i}
\end{array}\right]^{T}=\left[\begin{array}{rr}
1 &amp; 0 \\
1+\mathrm{i} &amp; 2 \mathrm{i}
\end{array}\right]
\]</span></p>
</section>
<section id="laws-of-matrix-transpose" class="level2">
<h2 class="anchored" data-anchor-id="laws-of-matrix-transpose"><em>Laws of Matrix Transpose</em></h2>
<p>Let <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> be matrices of the appropriate sizes so that the following operations make sense, and <span class="math inline">\(c\)</span> a scalar.</p>
<ol type="1">
<li><p><span class="math inline">\((A+B)^{T}=A^{T}+B^{T}\)</span></p></li>
<li><p><span class="math inline">\((A B)^{T}=B^{T} A^{T}\)</span></p></li>
<li><p><span class="math inline">\((c A)^{T}=c A^{T}\)</span></p></li>
<li><p><span class="math inline">\(\left(A^{T}\right)^{T}=A\)</span></p></li>
</ol>
</section>
<section id="symmetric-and-hermetian-matrices" class="level2">
<h2 class="anchored" data-anchor-id="symmetric-and-hermetian-matrices"><em>Symmetric and Hermetian Matrices</em></h2>
<div class="definition">
<p>The matrix <span class="math inline">\(A\)</span> is said to be:</p>
<ul>
<li><strong>symmetric</strong> if <span class="math inline">\(A^{T}=A\)</span></li>
<li><strong>Hermitian</strong> if <span class="math inline">\(A^{*}=A\)</span></li>
</ul>
</div>
<p>. . .</p>
<div class="example">
<p>Is this matrix symmetric? Hermetian?</p>
<p><span class="math inline">\(\left[\begin{array}{rr}1 &amp; 1+\mathrm{i} \\ 1-\mathrm{i} &amp; 2\end{array}\right]\)</span></p>
<div class="fragment">
<p>Itâ€™s Hermetian, but not symmetric.</p>
<p><span class="math display">\[
\left[\begin{array}{rr}
1 &amp; 1+\mathrm{i} \\
1-\mathrm{i} &amp; 2
\end{array}\right]^{*}=\left[\begin{array}{rr}
1 &amp; \overline{1+\mathrm{i}} \\
\overline{1-\mathrm{i}} &amp; 2
\end{array}\right]^{T}=\left[\begin{array}{rr}
1 &amp; 1+\mathrm{i} \\
1-\mathrm{i} &amp; 2
\end{array}\right]
\]</span></p>
</div>
</div>
</section>
</section>
<section id="inner-and-outer-products" class="level1">
<h1><em>Inner and outer products</em></h1>
<!--

#### Definition 2.16.
 Inner and Outer Products Let $\mathbf{u}$ and $\mathbf{v}$ be column vectors of the same size, say $n \times 1$. Then the inner product of $\mathbf{u}$ and $\mathbf{v}$ is the scalar quantity $\mathbf{u}^{T} \mathbf{v}$, and the outer product of $\mathbf{u}$ and $\mathbf{v}$ is the $n \times n$ matrix $\mathbf{u v}^{T}$.

Example 2.34. Compute the inner and outer products of the vectors

$$
\mathbf{u}=\left[\begin{array}{r}
2 \\
-1 \\
1
\end{array}\right] \text { and } \mathbf{v}=\left[\begin{array}{l}
3 \\
4 \\
1
\end{array}\right]
$$

Solution. Here we have the inner product

$$
\mathbf{u}^{T} \mathbf{v}=[2,-1,1]\left[\begin{array}{l}
3 \\
4 \\
1
\end{array}\right]=2 \cdot 3+(-1) 4+1 \cdot 1=3
$$

while the outer product is

$$
\mathbf{u v}^{T}=\left[\begin{array}{r}
2 \\
-1 \\
1
\end{array}\right][3,4,1]=\left[\begin{array}{rrr}
2 \cdot 3 & 2 \cdot 4 & 2 \cdot 1 \\
-1 \cdot 3 & -1 \cdot 4 & -1 \cdot 1 \\
1 \cdot 3 & 1 \cdot 4 & 1 \cdot 1
\end{array}\right]=\left[\begin{array}{rrr}
6 & 8 & 2 \\
-3 & -4 & -1 \\
3 & 4 & 1
\end{array}\right]
$$

Here are a few basic laws relating transposes to other matrix arithmetic that we have learned. These laws remain correct if transpose is replaced by conjugate transpose, with one exception: $(c A)^{*}=\bar{c} A^{*}$.
-->
<section id="inner-product" class="level2">
<h2 class="anchored" data-anchor-id="inner-product"><em>Inner product</em></h2>
<div class="definition">
<ul>
<li><p>Let <span class="math inline">\(\mathbf{u}\)</span> and <span class="math inline">\(\mathbf{v}\)</span> be column vectors of the same size, say <span class="math inline">\(n \times 1\)</span>.</p></li>
<li><p>Then the <strong>inner product</strong> of <span class="math inline">\(\mathbf{u}\)</span> and <span class="math inline">\(\mathbf{v}\)</span> is the scalar quantity <span class="math inline">\(\mathbf{u}^{T} \mathbf{v}\)</span></p></li>
</ul>
</div>
<p>. . .</p>
<div class="example">
<p>Find the inner product of <span class="math display">\[
\mathbf{u}=\left[\begin{array}{r}
2 \\
-1 \\
1
\end{array}\right] \text { and } \mathbf{v}=\left[\begin{array}{l}
3 \\
4 \\
1
\end{array}\right]
\]</span></p>
<div class="fragment">
<p><span class="math display">\[
\mathbf{u}^{T} \mathbf{v}=[2,-1,1]\left[\begin{array}{l}
3 \\
4 \\
1
\end{array}\right]=2 \cdot 3+(-1) 4+1 \cdot 1=3
\]</span></p>
</div>
</div>
</section>
<section id="outer-product" class="level2">
<h2 class="anchored" data-anchor-id="outer-product"><em>Outer product</em></h2>
<div class="definition">
<ul>
<li>The <strong>outer product</strong> of <span class="math inline">\(\mathbf{u}\)</span> and <span class="math inline">\(\mathbf{v}\)</span> is the <span class="math inline">\(n \times n\)</span> matrix <span class="math inline">\(\mathbf{u v}^{T}\)</span>.</li>
</ul>
</div>
<p>. . .</p>
<div class="example">
<p>Find the outer product of</p>
<p><span class="math display">\[
\mathbf{u}=\left[\begin{array}{r}
2 \\
-1 \\
1
\end{array}\right] \text { and } \mathbf{v}=\left[\begin{array}{l}
3 \\
4 \\
1
\end{array}\right]
\]</span></p>
<div class="fragment">
<p><span class="math display">\[
\mathbf{u v}^{T}=\left[\begin{array}{r}
2 \\
-1 \\
1
\end{array}\right][3,4,1]=\left[\begin{array}{rrr}
2 \cdot 3 &amp; 2 \cdot 4 &amp; 2 \cdot 1 \\
-1 \cdot 3 &amp; -1 \cdot 4 &amp; -1 \cdot 1 \\
1 \cdot 3 &amp; 1 \cdot 4 &amp; 1 \cdot 1
\end{array}\right]=\left[\begin{array}{rrr}
6 &amp; 8 &amp; 2 \\
-3 &amp; -4 &amp; -1 \\
3 &amp; 4 &amp; 1
\end{array}\right]
\]</span></p>
</div>
</div>
</section>
</section>
<section id="determinants" class="level1">
<h1><em>Determinants</em></h1>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"><em></em></h2>
<div class="definition">
<p>The <strong>determinant</strong> of a square <span class="math inline">\(n \times n\)</span> matrix <span class="math inline">\(A=\left[a_{i j}\right]\)</span>, <span class="math inline">\(\operatorname{det} A\)</span>, is defined recursively:</p>
<p>If <span class="math inline">\(n=1\)</span> then <span class="math inline">\(\operatorname{det} A=a_{11}\)</span>;</p>
<div class="fragment">
<p>otherwise,</p>
<ul>
<li>suppose we have determinents for all square matrices of size less than <span class="math inline">\(n\)</span></li>
<li>Define <span class="math inline">\(M_{i j}(A)\)</span> as the determinant of the <span class="math inline">\((n-1) \times(n-1)\)</span> matrix obtained from <span class="math inline">\(A\)</span> by deleting the <span class="math inline">\(i\)</span> th row and <span class="math inline">\(j\)</span> th column of <span class="math inline">\(A\)</span></li>
</ul>
</div>
<div class="fragment">
<p>then</p>
<p><span class="math display">\[
\begin{aligned}
\operatorname{det} A &amp; =\sum_{k=1}^{n} a_{k 1}(-1)^{k+1} M_{k 1}(A) \\
&amp; =a_{11} M_{11}(A)-a_{21} M_{21}(A)+\cdots+(-1)^{n+1} a_{n 1} M_{n 1}(A)
\end{aligned}
\]</span></p>
</div>
</div>
</section>
<section id="laws-of-determinants" class="level2">
<h2 class="anchored" data-anchor-id="laws-of-determinants"><em>Laws of Determinants</em></h2>
<p>Determinant of an upper-triangular matrix: <span class="math display">\[
\begin{aligned}
\operatorname{det} A &amp; =\left|\begin{array}{cccc}
a_{11} &amp; a_{12} &amp; \cdots &amp; a_{1 n} \\
0 &amp; a_{22} &amp; \cdots &amp; a_{2 n} \\
\vdots &amp; \vdots &amp; &amp; \vdots \\
0 &amp; 0 &amp; \cdots &amp; a_{n n}
\end{array}\right|=a_{11}\left|\begin{array}{cccc}
a_{22} &amp; a_{23} &amp; \cdots &amp; a_{2 n} \\
0 &amp; a_{33} &amp; \cdots &amp; a_{3 n} \\
\vdots &amp; \vdots &amp; &amp; \vdots \\
0 &amp; 0 &amp; \cdots &amp; a_{n n}
\end{array}\right| \\
&amp; =\cdots=a_{11} \cdot a_{22} \cdots a_{n n} .
\end{aligned}
\]</span></p>
<p>. . .</p>
<p>D1: If <span class="math inline">\(A\)</span> is an upper triangular matrix, then the determinant of <span class="math inline">\(A\)</span> is the product of all the diagonal elements of <span class="math inline">\(A\)</span>.</p>
</section>
<section id="more-laws-of-determinants" class="level2">
<h2 class="anchored" data-anchor-id="more-laws-of-determinants"><em>More Laws of Determinants</em></h2>
<ul>
<li><p>D2: If <span class="math inline">\(B\)</span> is obtained from <span class="math inline">\(A\)</span> by multiplying one row of <span class="math inline">\(A\)</span> by the scalar <span class="math inline">\(c\)</span>, then <span class="math inline">\(\operatorname{det} B=c \cdot \operatorname{det} A\)</span>.</p></li>
<li><p>D3: If <span class="math inline">\(B\)</span> is obtained from <span class="math inline">\(A\)</span> by interchanging two rows of <span class="math inline">\(A\)</span>, then <span class="math inline">\(\operatorname{det} B=\)</span> <span class="math inline">\(-\operatorname{det} A\)</span>.</p></li>
<li><p>D4: If <span class="math inline">\(B\)</span> is obtained from <span class="math inline">\(A\)</span> by adding a multiple of one row of <span class="math inline">\(A\)</span> to another row of <span class="math inline">\(A\)</span>, then <span class="math inline">\(\operatorname{det} B=\operatorname{det} A\)</span>.</p>
<ul>
<li>Note: this means that the determinant of a matrix is unchanged by elementary row operations.</li>
</ul></li>
</ul>
</section>
<section id="determinant-laws-in-terms-of-elementary-matrices" class="level2">
<h2 class="anchored" data-anchor-id="determinant-laws-in-terms-of-elementary-matrices"><em>Determinant Laws in terms of Elementary Matrices</em></h2>
<ul>
<li>D2: <span class="math inline">\(\operatorname{det}\left(E_{i}(c) A\right)=c \cdot \operatorname{det} A\)</span> (remember that for <span class="math inline">\(E_{i}(c)\)</span> to be an elementary matrix, <span class="math inline">\(c \neq 0\)</span> ).</li>
<li>D3: <span class="math inline">\(\operatorname{det}\left(E_{i j} A\right)=-\operatorname{det} A\)</span>.</li>
<li>D4: <span class="math inline">\(\operatorname{det}\left(E_{i j}(s) A\right)=\operatorname{det} A\)</span>.</li>
</ul>
</section>
<section id="determinant-of-row-echelon-form" class="level2">
<h2 class="anchored" data-anchor-id="determinant-of-row-echelon-form"><em>Determinant of Row Echelon Form</em></h2>
<p>Let R be the reduced row echelon form of A, obtained through multiplication by elementary matrices:</p>
<p><span class="math display">\[
R=E_{1} E_{2} \cdots E_{k} A .
\]</span></p>
<p>. . .</p>
<p>Determinant of both sides:</p>
<p><span class="math display">\[
\operatorname{det} R=\operatorname{det}\left(E_{1} E_{2} \cdots E_{k} A\right)= \pm(\text { nonzero constant }) \cdot \operatorname{det} A \text {. }
\]</span></p>
<p>. . .</p>
<p>Therefore, <span class="math inline">\(\operatorname{det} A=0\)</span> <strong>precisely</strong> when <span class="math inline">\(\operatorname{det} R=0\)</span>.</p>
<p>. . .</p>
<ul>
<li><span class="math inline">\(R\)</span> is upper triangular, so <span class="math inline">\(\operatorname{det} R\)</span> is the product of the diagonal entries of <span class="math inline">\(R\)</span>.</li>
<li>If <span class="math inline">\(\operatorname{rank} A&lt;n\)</span>, then there will be <strong>zeros</strong> in some of the diagonal entries, so <span class="math inline">\(\operatorname{det} R=0\)</span>.</li>
<li>If <span class="math inline">\(\operatorname{rank} A=n\)</span>, the diagonal entries are all 1, so <span class="math inline">\(\operatorname{det} R=1\)</span>.
<ul>
<li>A square matrix with rank <span class="math inline">\(n\)</span> is <strong>invertible</strong></li>
</ul></li>
</ul>
<p>. . .</p>
<p>Therefore,</p>
<p>D5: The matrix <span class="math inline">\(A\)</span> is invertible if and only if <span class="math inline">\(\operatorname{det} A \neq 0\)</span>.</p>
</section>
<section id="two-more-determinant-laws" class="level2">
<h2 class="anchored" data-anchor-id="two-more-determinant-laws"><em>Two more Determinant Laws</em></h2>
<p>D6: Given matrices <span class="math inline">\(A, B\)</span> of the same size,</p>
<p><span class="math display">\[
\operatorname{det} A B=\operatorname{det} A \operatorname{det} B \text {. }
\]</span></p>
<p>. . .</p>
<p>(but beware, <span class="math inline">\(\operatorname{det} A+\operatorname{det} B \neq \operatorname{det}(A+B)\)</span>)</p>
<p>D7: For all square matrices <span class="math inline">\(A\)</span>, <span class="math inline">\(\operatorname{det} A^{T}=\operatorname{det} A\)</span></p>
</section>
<section id="easier-way-to-calculate-determinant" class="level2">
<h2 class="anchored" data-anchor-id="easier-way-to-calculate-determinant"><em>Easier way to calculate determinant</em></h2>
<p>Just use the <code>det</code> function in Python! (That was copilotâ€™s autocompleteâ€¦)</p>
<p>. . .</p>
<p>Use elementary row operations to get the matrix into upper triangular form, then multiply the diagonal entries.</p>
</section>
<section id="an-inverse-formula" class="level2">
<h2 class="anchored" data-anchor-id="an-inverse-formula"><em>An Inverse Formula</em></h2>
</section>
<section id="adjoint-minor-cofactor-matrices" class="level2">
<h2 class="anchored" data-anchor-id="adjoint-minor-cofactor-matrices"><em>Adjoint, Minor, Cofactor Matrices</em></h2>
<div class="definition">
<ul>
<li><span class="math inline">\(M_{i j}(A)\)</span>, the <span class="math inline">\((i,j)\)</span> th <strong>minor</strong> of <span class="math inline">\(A\)</span>, is the determinant of the <span class="math inline">\((n-1) \times (n-1)\)</span> matrix obtained by deleting the <span class="math inline">\(i\)</span>th row and <span class="math inline">\(j\)</span>th column of <span class="math inline">\(A\)</span>.</li>
<li><span class="math inline">\(A_{i j}=(-1)^{i+j} M_{i j}(A)\)</span> is the <span class="math inline">\((i,j)\)</span>t h <strong>cofactor</strong> of <span class="math inline">\(A\)</span>.</li>
<li><strong>Matrix of minors</strong> <span class="math inline">\(M(A)\)</span> is the matrix whose <span class="math inline">\((i,j)\)</span> th entry is the minor <span class="math inline">\(M_{i j}(A)\)</span>.</li>
<li><strong>Cofactor matrix</strong> <span class="math inline">\(A_{\text {cof }}\)</span> is the matrix whose <span class="math inline">\((i,j)\)</span> th entry is the cofactor <span class="math inline">\(A_{i j}\)</span>.</li>
<li><strong>Adjoint</strong> of <span class="math inline">\(A\)</span> is the transpose of the cofactor matrix, <span class="math inline">\(A^{*}=A_{\text {cof }}^{T}\)</span>.</li>
</ul>
</div>
</section>
<section id="example" class="level2">
<h2 class="anchored" data-anchor-id="example"><em>Example</em></h2>
<p><span class="math inline">\(A=\left[\begin{array}{rrr}1 &amp; 2 &amp; 0 \\ 0 &amp; 0 &amp; -1 \\ 0 &amp; 2 &amp; 1\end{array}\right]\)</span></p>
<p>. . .</p>
<p>Matrix of minors:</p>
<p><a href="https://cdn.mathpix.com/cropped/2024_02_16_adbe27593182d62240abg-161.jpg?height=274&amp;width=765&amp;top_left_y=1008&amp;top_left_x=374" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://cdn.mathpix.com/cropped/2024_02_16_adbe27593182d62240abg-161.jpg?height=274&amp;width=765&amp;top_left_y=1008&amp;top_left_x=374" height="150"></a></p>
<p>. . .</p>
<p>Cofactor matrix and adjoint:</p>
<p>Overlay with the checkerboard <span class="math inline">\(\left[\begin{array}{l}+-+ \\ -+- \\ +-+\end{array}\right]\)</span>. Take the transpose, to get</p>
<p><span class="math display">\[
\operatorname{adj} A=\left[\begin{array}{rrr}
2 &amp; -2 &amp; -2 \\
0 &amp; 1 &amp; 1 \\
0 &amp; -2 &amp; 0
\end{array}\right]
\]</span></p>
</section>
<section id="back-to-the-inverse-formula" class="level2">
<h2 class="anchored" data-anchor-id="back-to-the-inverse-formula"><em>Back to the Inverse Formula</em></h2>
<p><span class="math display">\[
\begin{equation*}
\sum_{k=1}^{n} A_{k i} a_{k j}=\delta_{i j} \operatorname{det} A
\end{equation*}
\]</span></p>
</section>
<section id="checking-with-our-example" class="level2">
<h2 class="anchored" data-anchor-id="checking-with-our-example"><em>Checking, with our example</em></h2>
<p>Remeber, we had <span class="math inline">\(A=\left[\begin{array}{rrr}1 &amp; 2 &amp; 0 \\ 0 &amp; 0 &amp; -1 \\ 0 &amp; 2 &amp; 1\end{array}\right]\)</span></p>
<p>. . .</p>
<p>We had computed the adjoint as <span class="math inline">\(A^{*}=\left[\begin{array}{rrr}2 &amp; -2 &amp; -2 \\ 0 &amp; 1 &amp; 1 \\ 0 &amp; -2 &amp; 0\end{array}\right]\)</span></p>
<p>. . .</p>
<p>Check:</p>
<p><span class="math display">\[
A \operatorname{adj} A=\left[\begin{array}{rrr}
1 &amp; 2 &amp; 0 \\
0 &amp; 0 &amp; -1 \\
0 &amp; 2 &amp; 1
\end{array}\right]\left[\begin{array}{rrr}
2 &amp; -2 &amp; -2 \\
0 &amp; 1 &amp; 1 \\
0 &amp; -2 &amp; 0
\end{array}\right]=\left[\begin{array}{lll}
2 &amp; 0 &amp; 0 \\
0 &amp; 2 &amp; 0 \\
0 &amp; 0 &amp; 2
\end{array}\right]=(\operatorname{det} A) I_{3} .
\]</span></p>
<p>. . .</p>
<p>So, <span class="math inline">\(A^{-1}=\frac{1}{\operatorname{det} A} A^{*}\)</span>.</p>
</section>
<section id="cramers-rule" class="level2">
<h2 class="anchored" data-anchor-id="cramers-rule"><em>Cramerâ€™s Rule</em></h2>
<p>Explicit formula for solving linear systems with a nonsingular coefficient matrix.</p>
<p>. . .</p>
<p>Solve <span class="math inline">\(A \mathbf{x}=\mathbf{b}\)</span></p>
<p>. . .</p>
<p>Multiply both sides by <span class="math inline">\(A^{-1}\)</span>: <span class="math inline">\(\mathbf{x}=A^{-1} \mathbf{b}\)</span></p>
<p>. . .</p>
<p>Use the formula for <span class="math inline">\(A^{-1}\)</span>: <span class="math inline">\(\mathbf{x}=\frac{1}{\operatorname{det} A} A^{*} \mathbf{b}\)</span></p>
<p>. . .</p>
<p>The <span class="math inline">\(i\)</span> th component of <span class="math inline">\(\mathbf{x}\)</span> is</p>
<p><span class="math display">\[
x_{i}=\frac{1}{\operatorname{det} A} \sum_{j=1}^{n} A_{j i} b_{j}
\]</span></p>
</section>
<section id="interpretation-of-cramers-rule" class="level2">
<h2 class="anchored" data-anchor-id="interpretation-of-cramers-rule"><em>Interpretation of Cramerâ€™s Rule</em></h2>
<p><span class="math display">\[
x_{i}=\frac{1}{\operatorname{det} A} \sum_{j=1}^{n} A_{j i} b_{j}
\]</span></p>
<p>** pause **</p>
<p>. . .</p>
<div class="definition">
<ul>
<li>Let <span class="math inline">\(A\)</span> be an invertible <span class="math inline">\(n \times n\)</span> matrix and <span class="math inline">\(\mathbf{b}\)</span> an <span class="math inline">\(n \times 1\)</span> column vector.</li>
<li>Denote by <span class="math inline">\(B_{i}\)</span> the matrix obtained from <span class="math inline">\(A\)</span> by replacing the <span class="math inline">\(i\)</span> th column of <span class="math inline">\(A\)</span> by <span class="math inline">\(\mathbf{b}\)</span>.</li>
<li>Then the linear system <span class="math inline">\(A \mathbf{x}=\mathbf{b}\)</span> has unique solution <span class="math inline">\(\mathbf{x}=\left(x_{1}, x_{2}, \ldots, x_{n}\right)\)</span>, where</li>
<li><span class="math display">\[
x_{i}=\frac{\operatorname{det} B_{i}}{\operatorname{det} A}, \quad i=1,2, \ldots, n
\]</span></li>
</ul>
</div>
</section>
<section id="summary-of-laws-of-determinants" class="level2">
<h2 class="anchored" data-anchor-id="summary-of-laws-of-determinants"><em>Summary of Laws of Determinants</em></h2>
<p>Let <span class="math inline">\(A, B\)</span> be <span class="math inline">\(n \times n\)</span> matrices.</p>
<ul>
<li><p>D1: If <span class="math inline">\(A\)</span> is upper triangular, <span class="math inline">\(\operatorname{det} A\)</span> is the product of all the diagonal elements of <span class="math inline">\(A\)</span>.</p></li>
<li><p>D2: <span class="math inline">\(\operatorname{det}\left(E_{i}(c) A\right)=c \cdot \operatorname{det} A\)</span>.</p></li>
<li><p>D3: <span class="math inline">\(\operatorname{det}\left(E_{i j} A\right)=-\operatorname{det} A\)</span>.</p></li>
<li><p>D4: <span class="math inline">\(\operatorname{det}\left(E_{i j}(s) A\right)=\operatorname{det} A\)</span>.</p></li>
<li><p>D5: The matrix <span class="math inline">\(A\)</span> is invertible if and only if <span class="math inline">\(\operatorname{det} A \neq 0\)</span>.</p></li>
<li><p>D6: <span class="math inline">\(\operatorname{det} A B=\operatorname{det} A \operatorname{det} B\)</span>.</p></li>
<li><p>D7: <span class="math inline">\(\operatorname{det} A^{T}=\operatorname{det} A\)</span>.</p></li>
<li><p>D8: <span class="math inline">\(A \operatorname{adj} A=(\operatorname{adj} A) A=(\operatorname{det} A) I\)</span>.</p></li>
<li><p>D9: If <span class="math inline">\(\operatorname{det} A \neq 0\)</span>, then <span class="math inline">\(A^{-1}=\frac{1}{\operatorname{det} A} \operatorname{adj} A\)</span>.</p></li>
</ul>
</section>
<section id="quadratic-forms" class="level2">
<h2 class="anchored" data-anchor-id="quadratic-forms"><em>Quadratic Forms</em></h2>
<p>A <strong>quadratic form</strong> is a homogeneous polynomial of degree 2 in <span class="math inline">\(n\)</span> variables. For example,</p>
<p>. . .</p>
<p><span class="math display">\[
Q(x, y, z)=x^{2}+2 y^{2}+z^{2}+2 x y+y z+3 x z .
\]</span></p>
<p>. . .</p>
<p>We can express this in matrix form!</p>
<p><span class="math display">\[
\begin{aligned}
x(x+2 y+3 z)+y(2 y+z)+z^{2} &amp; =\left[\begin{array}{lll}
x &amp; y &amp; z
\end{array}\right]\left[\begin{array}{c}
x+2 y+3 z \\
2 y+z \\
z
\end{array}\right]
\end{aligned}
\]</span></p>
<p>. . .</p>
<p><span class="math display">\[
\begin{aligned}
=\left[\begin{array}{lll}
x &amp; y &amp; z
\end{array}\right]\left[\begin{array}{lll}
1 &amp; 2 &amp; 3 \\
0 &amp; 2 &amp; 1 \\
0 &amp; 0 &amp; 1
\end{array}\right]\left[\begin{array}{c}
x \\
y \\
z
\end{array}\right]=\mathbf{x}^{T} A \mathbf{x},
\end{aligned}
\]</span></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions"><ul><li><a href="https://github.com/KBurbank/stat24320/edit/main/lectures/ch2_lecture5.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/KBurbank/stat24320/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","selector":".lightbox","loop":false,"descPosition":"bottom","openEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>